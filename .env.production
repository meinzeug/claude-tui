# Production Environment Configuration
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# === DATABASE CONFIGURATION ===
# Primary PostgreSQL Database
DATABASE_URL=postgresql+asyncpg://claude_tui_prod:${DB_PASSWORD}@${DB_HOST:-localhost}:${DB_PORT:-5432}/${DB_NAME:-claude_tui_prod}?sslmode=require

# Database Connection Details
DB_HOST=localhost
DB_PORT=5432
DB_NAME=claude_tui_prod
DB_USER=claude_tui_prod
DB_PASSWORD=${POSTGRES_PASSWORD}

# Database Connection Pool Settings
DB_POOL_SIZE=25
DB_MAX_OVERFLOW=15
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_SSL_REQUIRE=true
DB_QUERY_CACHE_SIZE=1000

# Read Replica Configuration
DB_READ_REPLICA_URLS=postgresql+asyncpg://claude_tui_read:${DB_READ_PASSWORD}@${DB_READ_HOST:-localhost}:${DB_READ_PORT:-5433}/${DB_NAME:-claude_tui_prod}?sslmode=require
DB_READ_HOST=localhost
DB_READ_PORT=5433
DB_READ_PASSWORD=${POSTGRES_READ_PASSWORD}

# === REDIS CLUSTER CONFIGURATION ===
# Redis Cluster Nodes
REDIS_CLUSTER_NODES=redis-node-1:7000,redis-node-2:7001,redis-node-3:7002,redis-node-4:7003,redis-node-5:7004,redis-node-6:7005
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_SSL=true
REDIS_MAX_CONNECTIONS=50
REDIS_RETRY_ON_TIMEOUT=true
REDIS_HEALTH_CHECK_INTERVAL=30

# Redis Fallback (Single Instance)
REDIS_URL=redis://:${REDIS_PASSWORD}@localhost:6379/0

# Cache Configuration
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=claude_tui_prod
CACHE_VERSION=1

# === BACKUP AND RECOVERY ===
# Database Backup Settings
DB_BACKUP_ENABLED=true
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
DB_BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
DB_BACKUP_S3_ACCESS_KEY=${AWS_ACCESS_KEY_ID}
DB_BACKUP_S3_SECRET_KEY=${AWS_SECRET_ACCESS_KEY}

# === SECURITY CONFIGURATION ===
# Application Security
SECRET_KEY=${APP_SECRET_KEY}
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_SPECIAL_CHARS=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=200

# === MONITORING AND METRICS ===
# Database Monitoring
DB_ENABLE_METRICS=true
DB_SLOW_QUERY_THRESHOLD=1.0
DB_CONNECTION_MONITORING=true

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
METRICS_COLLECTION_INTERVAL=60
METRICS_RETENTION_DAYS=90

# === API KEYS ===
# AI Service Keys
OPENAI_API_KEY=${OPENAI_API_KEY}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
CLAUDE_API_KEY=${CLAUDE_API_KEY}

# === HIGH AVAILABILITY ===
# Load Balancer Configuration
LOAD_BALANCER_HEALTH_CHECK_PATH=/health
LOAD_BALANCER_TIMEOUT=30
LOAD_BALANCER_RETRIES=3

# Auto-scaling
AUTO_SCALE_MIN_INSTANCES=2
AUTO_SCALE_MAX_INSTANCES=10
AUTO_SCALE_TARGET_CPU=70
AUTO_SCALE_TARGET_MEMORY=80

# === SSL/TLS CONFIGURATION ===
SSL_CERT_PATH=/etc/ssl/certs/claude-tui.crt
SSL_KEY_PATH=/etc/ssl/private/claude-tui.key
SSL_CA_PATH=/etc/ssl/certs/ca-certificates.crt

# === LOGGING CONFIGURATION ===
LOG_FORMAT=json
LOG_FILE=/var/log/claude-tui/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10

# Centralized Logging
LOGSTASH_HOST=${LOGSTASH_HOST}
LOGSTASH_PORT=5044
FLUENTD_HOST=${FLUENTD_HOST}
FLUENTD_PORT=24224

# === LEGACY COMPATIBILITY ===
# Application Environment
CLAUDE_TUI_ENV=production
PYTHONPATH=/app/src
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Application Configuration
CLAUDE_TUI_CONFIG_DIR=/app/config
CLAUDE_TUI_DATA_DIR=/app/data
CLAUDE_TUI_LOG_DIR=/app/logs

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_TIMEOUT=30

# Claude Flow Configuration
CLAUDE_FLOW_VERSION=alpha
CLAUDE_FLOW_MAX_AGENTS=50
CLAUDE_FLOW_MEMORY_LIMIT=2048

# Container Configuration
CONTAINER_NAME=claude-tui-prod
CONTAINER_PORT=8000
RESTART_POLICY=always